---
title: "JedR Trial: Bind and Join"
engine: knitr
format: live-html
webr:
  packages:
    - tidyverse
    - dplyr
    - DT
  render-df: paged-table
---

{{< include ./_extensions/r-wasm/live/_knitr.qmd >}} 

```{webr}
#| include: FALSE
starwars <- starwars

droids <- starwars |> 
  filter(species == "Droid") |> 
  select(1:6)

humans <- starwars |> 
  filter(species == "Human") |> 
  select(1:6)

other <- starwars |> 
  filter(!(species %in% c("Human", "Droid"))) |> 
  select(1:6)

characters <- droids |> bind_rows(humans, other)

sw_bio <- starwars |> select(1, 7:11)

praise_list <- c("Great job you have done!", "Nice work. You have controlled your fear.", "Wow! The force is with you!", "Great job! Mind tricks don't work on you!", "The Force is strong with you!", "You’ve mastered this task like a true Jedi Knight.", "Your skills rival those of a seasoned Jedi Master.", "The galaxy is lucky to have someone as strong and brave as you.", "The Rebellion couldn’t ask for a better ally.", "You’re the hope the galaxy needs!", "Not even the Death Star could stand in your way.", "Darth Vader would tremble in your presence!", "Even a bounty hunter would be impressed by your precision and focus.", "You’ve got the strength of a thousand stormtroopers (but with way better aim)!", "Like a true Jedi, you face challenges with courage and wisdom.")

again_list <- c("Even Yoda didn’t get it on the first try. Keep going, young Padawan!", "The Force is strong with you—just focus and try again.", "Every Jedi stumbles before mastering the lightsaber. Give it another go!", "Remember, the greatest pilots still had to learn to fly first.", "Even Han Solo missed a few shots—try again, and you’ll hit the mark.", "No need to go to the Dark Side; persistence will bring you victory!", "The path of the Jedi is filled with lessons. This is just one of them.", "Even Anakin faced failure; it’s how you rise that matters.", "Not even a Sith Lord could conquer every challenge the first time.", "Mistakes are like hyperspace jumps: each one gets you closer to the destination.", "The Rebellion wasn’t won in a day — keep fighting for what’s possible.","Think of this as training with Master Yoda: patience leads to mastery.", "The Force is with you, always, so don’t give up now!", "Just like rebuilding a lightsaber, try again, and you'll get it right.")

random_praise <- sample(praise_list, 1)

random_again <- sample(again_list, 1)
```

## JedR Trial No. 6: Bind and Join

<div style="float:right; margin-left:20px"><img src="images/stormtroopers.png" width="200"></div>

With this JedR Trial, you will prove your experience in combining data. While we are using the `starwars` data in a fashion, it has been broken up into parts that you need to put back together.

<br clear="both"/>

### About our data

We start with three separate data frames for `humans`, `droids` and `other` species. The data frames have basic information on these characters, like `height`, `weight`, etc.

The `droids` data looks like this:

```{webr}
#| edit: FALSE
droids
```

The `humans` and `other` data frames are similar, but have characters from those species only.

## Stack the data

Starting with the `droids` data, stack it together with the two other data frames (`humans` and `other`) and store the result into a single data frame called `characters`. You should end up with 87 observations with 6 variables. After you create the `characters` data frame, print it out to your notebook.

```{webr}
#| exercise: ex_1
__________ <- droids |> 
  _________(______, _____)

__________
```

```{webr}
#| exercise: ex_1
#| check: true

if (identical(.result, characters <- droids |> 
  bind_rows(humans, other))) {
  list(correct = TRUE, message = sample(praise_list, 1))
} else {
  list(correct = FALSE, message = sample(again_list, 1))
}
```

::: {.hint exercise="ex_1"}
::: {.callout-note collapse="false"}
## Hint 1

You might review the [bind vignette](https://dplyr.tidyverse.org/reference/bind.html) in the Tidyverse documentation.

:::
:::

## Join with more data

Now that you have created the `characters` data, we need to join this with a different data set. Our `characters` data has the name of the character and then variables for physical characteristics like height and weight, etc.

We have a different data set available to us, called `sw_bio` that has more information, like the `homeworld` and `species` of each character. Your droid editor, J-327D, has asked you to add this bio information to your characters data.

You should end up with the same 87 observations, but you should end up with 11 variables.

```{webr}
#| exercise: ex_2
characters  |> 
  _________(______)
```

```{webr}
#| exercise: ex_2
#| check: true

if (identical(.result, characters  |> 
  left_join(sw_bio))) {
  list(correct = TRUE, message = sample(praise_list, 1))
} else {
  list(correct = FALSE, message = sample(again_list, 1))
}
```

::: {.hint exercise="ex_2"}
::: {.callout-note collapse="false"}
## Hint 1

You might review the [join vignette](https://dplyr.tidyverse.org/reference/mutate-joins.html) in the Tidyverse documentation.

:::
:::

Well done. This JedR Trial is complete. Please inform your JedR Master. You have overcome this challenge, proving your strength and resolve. But beware, young one—darkness is never truly vanquished. It lurks in the shadows, waiting for its chance to rise again...

